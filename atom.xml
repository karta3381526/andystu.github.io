<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[AndyZ's Blog]]></title>
  <link href="http://andystu.github.io/atom.xml" rel="self"/>
  <link href="http://andystu.github.io/"/>
  <updated>2015-04-02T17:17:25+08:00</updated>
  <id>http://andystu.github.io/</id>
  <author>
    <name><![CDATA[Yu-Chieh Chang (張又介)]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How to Install Ionic and Its Dependencies]]></title>
    <link href="http://andystu.github.io/blog/2015/04/01/how-to-install-ionic-and-its-dependencies/"/>
    <updated>2015-04-01T12:06:57+08:00</updated>
    <id>http://andystu.github.io/blog/2015/04/01/how-to-install-ionic-and-its-dependencies</id>
    <content type="html"><![CDATA[<ul>
<li>install node js by Homebrew</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew doctor
</span><span class='line'>$ brew update
</span><span class='line'>$ brew install node
</span><span class='line'>$ brew install ant</span></code></pre></td></tr></table></div></figure>


<ul>
<li>install cordova and ionic by npm</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ npm install -g cordova ionic
</span><span class='line'>$ npm install -g ios-sim</span></code></pre></td></tr></table></div></figure>


<ul>
<li>install XCode and Android</li>
<li><p>for android sdk we need to go to <a href="http://developer.android.com/sdk/index.html">SDK Website</a> and download standalone sdk tools only <a href="http://developer.android.com/sdk/index.html#Other">file</a></p></li>
<li><p>next, unpack it and run for install required resources</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ android-sdk-macosx/tools/android sdk</span></code></pre></td></tr></table></div></figure>


<ul>
<li>finally, create a android virtual device by avd tool</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ android-sdk-macosx/tools/android avd</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>Genymotion is recommanded as android emulator (faster than avd) and do not forget to install virtualbox before installing Genymotion.</p></li>
<li><p>you might also want to change avd location</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ln -s path/to/my/avd ~/.android/avd</span></code></pre></td></tr></table></div></figure>


<ul>
<li>then, let&rsquo;s get start with ionic by sample app</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ionic start todo blank
</span><span class='line'>$ ionic platform add ios
</span><span class='line'>$ ionic platform add android
</span><span class='line'>$ ionic build ios
</span><span class='line'>$ ionic build android
</span><span class='line'>$ ionic emulate ios
</span><span class='line'>$ ionic emulate android # for avd
</span><span class='line'>$ ionic run android # for Genymotion</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Install Lavish on Ubuntu 14.04]]></title>
    <link href="http://andystu.github.io/blog/2015/03/20/install-lavish-on-ubuntu-14-dot-04/"/>
    <updated>2015-03-20T09:21:56+08:00</updated>
    <id>http://andystu.github.io/blog/2015/03/20/install-lavish-on-ubuntu-14-dot-04</id>
    <content type="html"><![CDATA[<ul>
<li><p>Lavish is a Bootstrap theme generator. It can generate both CSS and LESS code from an image you provide. Then, you can customize it.</p></li>
<li><p>Recently, I want to install on my ubuntu server for using it locally and conviniently.</p></li>
<li><p>the following steps are my install howto:</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git clone https://github.com/mquan/lavish.git
</span><span class='line'>$ cd lavish/
</span><span class='line'>$ rvm install 1.9.3
</span><span class='line'>$ rvm use 1.9.3
</span><span class='line'>$ bundle install --without production
</span><span class='line'>
</span><span class='line'>$ sudo apt-get install libmagickwand-dev # for solving rmagick install problem
</span><span class='line'>
</span><span class='line'>$ sudo add-apt-repository ppa:chris-lea/node.js # optional
</span><span class='line'>$ sudo apt-get -y update # optional
</span><span class='line'>
</span><span class='line'>$ sudo apt-get -y install nodejs # for ExtJS
</span><span class='line'>
</span><span class='line'>$ rails s # open http://localhost:3000/ and enjoy it.</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Enable Ssh in Ubuntu]]></title>
    <link href="http://andystu.github.io/blog/2015/03/17/enable-ssh-in-ubuntu/"/>
    <updated>2015-03-17T00:50:27+08:00</updated>
    <id>http://andystu.github.io/blog/2015/03/17/enable-ssh-in-ubuntu</id>
    <content type="html"><![CDATA[<ul>
<li>for ubuntu 14.04, we need to install OpenSSH Server</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install openssh-server</span></code></pre></td></tr></table></div></figure>


<ul>
<li>next, we might want to configure your ssh service</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># edit sshd config file
</span><span class='line'>$ sudo nano /etc/ssh/sshd_config</span></code></pre></td></tr></table></div></figure>


<ul>
<li>finally, restart it.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo /etc/init.d/ssh restart</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Deploy Ruby on Rails App on Ubuntu 14.04 by Mina]]></title>
    <link href="http://andystu.github.io/blog/2015/03/16/deploy-ruby-on-rails-app-on-ubuntu-14-dot-04-by-mina/"/>
    <updated>2015-03-16T22:44:48+08:00</updated>
    <id>http://andystu.github.io/blog/2015/03/16/deploy-ruby-on-rails-app-on-ubuntu-14-dot-04-by-mina</id>
    <content type="html"><![CDATA[<ul>
<li><p>Mina is fast and easy deploy tool for ruby on rails app (especially faster than capistrano). This note shows how to deploy ruby on rails app by mina.</p></li>
<li><p>Start up an ubuntu server (here we use Ubuntu 14.04 LTS x64 on vultr cloud server)</p></li>
<li><p>ssh to login your server</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh username@123.123.123.123 # change username and ip as yours</span></code></pre></td></tr></table></div></figure>


<!-- more -->


<ul>
<li>create a new user for later deployment work, better use the same name as your local development user name</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo adduser new_user
</span><span class='line'>$ sudo adduser new_user sudo
</span><span class='line'>$ su new_user</span></code></pre></td></tr></table></div></figure>


<ul>
<li>We&rsquo;re going to exploit ssh-copy-id to setup SSH connection for saving our time.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install ssh-copy-id # on Mac we use brew
</span><span class='line'>$ ssh-copy-id new_user@123.123.123.123</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Next, we&rsquo;re going to install Ruby and its bundler.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ curl -L https://get.rvm.io | bash -s stable
</span><span class='line'>$ source ~/.rvm/scripts/rvm
</span><span class='line'>$ rvm install 2.2.0
</span><span class='line'>$ rvm use 2.2.0 --default
</span><span class='line'>$ echo "gem: --no-ri --no-rdoc" &gt; ~/.gemrc
</span><span class='line'>$ gem install bundler</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Installing nginx and passenger <a href="https://gorails.com/deploy/ubuntu/14.04">A guide to setting up a Ruby on Rails production environment</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># Install Phusion's PGP key to verify packages
</span><span class='line'>$ gpg --keyserver keyserver.ubuntu.com --recv-keys 561F9B9CAC40B2F7
</span><span class='line'>$ gpg --armor --export 561F9B9CAC40B2F7 | sudo apt-key add -
</span><span class='line'>
</span><span class='line'># Add HTTPS support to APT
</span><span class='line'>$ sudo apt-get install apt-transport-https
</span><span class='line'>
</span><span class='line'># Add the passenger repository
</span><span class='line'>$ sudo sh -c "echo 'deb https://oss-binaries.phusionpassenger.com/apt/passenger trusty main' &gt;&gt; /etc/apt/sources.list.d/passenger.list"
</span><span class='line'>$ sudo chown root: /etc/apt/sources.list.d/passenger.list
</span><span class='line'>$ sudo chmod 600 /etc/apt/sources.list.d/passenger.list
</span><span class='line'>$ sudo apt-get update
</span><span class='line'>
</span><span class='line'># Install nginx and passenger
</span><span class='line'>$ sudo apt-get install nginx-full passenger
</span><span class='line'>
</span><span class='line'># start service
</span><span class='line'>$ sudo service nginx start</span></code></pre></td></tr></table></div></figure>


<ul>
<li>setup nginx</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo nano /etc/nginx/nginx.conf</span></code></pre></td></tr></table></div></figure>


<ul>
<li>find lines below and uncomment them.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>##
</span><span class='line'># Phusion Passenger
</span><span class='line'>##
</span><span class='line'># Uncomment it if you installed ruby-passenger or ruby-passenger-enterprise
</span><span class='line'>##
</span><span class='line'>
</span><span class='line'>passenger_root /usr/lib/ruby/vendor_ruby/phusion_passenger/locations.ini;
</span><span class='line'>
</span><span class='line'>#passenger_ruby /home/new_user/.rbenv/shims/ruby; # If you use rbenv
</span><span class='line'>passenger_ruby /home/new_user/.rvm/wrappers/ruby-2.2.0/ruby; # If use use rvm, be sure to change the version number
</span><span class='line'># passenger_ruby /usr/bin/ruby; # If you use ruby from source</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing mysql</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install mysql-server mysql-client libmysqlclient-dev</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing locale and set it up <a href="http://sfs.chc.edu.tw/~chi/blog/index.php?load=read&amp;id=296">ref</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo nano /var/lib/locales/supported.d/local # add locales you want to use
</span><span class='line'># zh_TW.UTF-8 UTF-8
</span><span class='line'>
</span><span class='line'>$ sudo locale-gen
</span><span class='line'># regenerate locales
</span><span class='line'>
</span><span class='line'>$ sudo nano /etc/default/locale
</span><span class='line'># set all as your preferal locale</span></code></pre></td></tr></table></div></figure>


<p>-installing nodejs for coffee script engine</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install nodejs</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing git for pull remote git repo</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install git</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing nginx</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install nginx</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing imagemagick for paperclip resize image</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ apt-get install imagemagick</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing unicorn</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install unicorn</span></code></pre></td></tr></table></div></figure>


<ul>
<li>installing <a href="http://nadarei.co/mina/setting_up_a_project.html">mina</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># go to rails app which your want to deploy and inialize your deploy config file
</span><span class='line'>
</span><span class='line'>$ mina init # this command will created config/deploy.rb. after this you might want to customize your [deploy.rb file.](https://gist.github.com/jbonney/6257372)
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># login and setup your server and create folders for later deployment
</span><span class='line'>
</span><span class='line'>$ ssh username@123.123.123.123
</span><span class='line'>$ sudo mkdir -p "/var/www/demo.com" && sudo chown -R new_user "/var/www/demo.com"
</span><span class='line'>
</span><span class='line'>$ mina setup # after tweak your mina deploy.rb file, run this.
</span><span class='line'>
</span><span class='line'>$ mina deploy # if mina setup is allpass, run this.</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Generate Email View and Send It Out Within Rails Application]]></title>
    <link href="http://andystu.github.io/blog/2015/03/12/how-to-generate-email-view-and-send-it-out-within-rails-application/"/>
    <updated>2015-03-12T15:27:14+08:00</updated>
    <id>http://andystu.github.io/blog/2015/03/12/how-to-generate-email-view-and-send-it-out-within-rails-application</id>
    <content type="html"><![CDATA[<ul>
<li>If we want to send email within rails app, we could use generator for creating mailer class and view.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rails g mailer NewsMailer <span class="c"># NewsMailer is the name of mailer class</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>After that, we could get generated files under app folder.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  create  app/mailers/news_mailer.rb
</span><span class='line'>  create  app/mailers/application_mailer.rb
</span><span class='line'>  invoke  erb
</span><span class='line'>  create    app/views/news_mailer
</span><span class='line'>  create    app/views/layouts/mailer.text.erb
</span><span class='line'>  create    app/views/layouts/mailer.html.erb
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Next, we need to edit mailer class (news_mailer.rb contains empty mailer so we need to edit it.)</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">NewsMailer</span> <span class="o">&lt;</span> <span class="no">ApplicationMailer</span>
</span><span class='line'>  <span class="n">default</span> <span class="ss">from</span><span class="p">:</span> <span class="s1">&#39;news@demo.com&#39;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">news_email</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">news</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@user</span> <span class="o">=</span> <span class="n">user</span>
</span><span class='line'>    <span class="vi">@news</span> <span class="o">=</span> <span class="n">news</span>
</span><span class='line'>    <span class="n">mail</span><span class="p">(</span><span class="ss">to</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="ss">subject</span><span class="p">:</span> <span class="vi">@news</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<!-- more -->


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;!</span><span class="no">DOCTYPE</span> <span class="n">html</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">content</span><span class="o">=</span><span class="s1">&#39;text/html; charset=UTF-8&#39;</span> <span class="n">http</span><span class="o">-</span><span class="n">equiv</span><span class="o">=</span><span class="s1">&#39;Content-Type&#39;</span> <span class="sr">/&gt;</span>
</span><span class='line'><span class="sr">  &lt;/</span><span class="n">head</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">hi</span><span class="p">,</span> <span class="o">&lt;</span><span class="sx">%= @user.name %&gt;&lt;/h1&gt;</span>
</span><span class='line'><span class="sx">    &lt;hr&gt;</span>
</span><span class='line'><span class="sx">    &lt;h2&gt;&lt;%=</span> <span class="vi">@news</span><span class="o">.</span><span class="n">title</span> <span class="sx">%&gt;&lt;/h2&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;%=</span> <span class="vi">@news</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">html_safe</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">    &lt;/p&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="sr">/body&gt;</span>
</span><span class='line'><span class="sr">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>create send_news action in your controller.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#...</span>
</span><span class='line'><span class="k">def</span> <span class="nf">send_news</span>
</span><span class='line'>  <span class="vi">@users</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">all</span>
</span><span class='line'>  <span class="vi">@news</span> <span class="o">=</span> <span class="no">News</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="no">NewsMailer</span><span class="o">.</span><span class="n">news_email</span><span class="p">(</span><span class="vi">@users</span><span class="p">,</span><span class="vi">@news</span><span class="p">)</span><span class="o">.</span><span class="n">deliver</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#...</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Finally, do not forget to add config info to your config/enviroments/$REAIL_ENV.rv file. (here we use gmail)</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">delivery_method</span> <span class="o">=</span> <span class="ss">:smtp</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">smtp_settings</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="ss">address</span><span class="p">:</span>              <span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">port</span><span class="p">:</span>                 <span class="mi">587</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">domain</span><span class="p">:</span>               <span class="s1">&#39;demo.com&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">user_name</span><span class="p">:</span>            <span class="s1">&#39;&lt;username&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">password</span><span class="p">:</span>             <span class="s1">&#39;&lt;password&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">authentication</span><span class="p">:</span>       <span class="s1">&#39;plain&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">enable_starttls_auto</span><span class="p">:</span> <span class="kp">true</span>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Install and Use Ckeditor and Paperclip in Rails App]]></title>
    <link href="http://andystu.github.io/blog/2015/02/26/how-to-install-and-use-ckeditor-and-paperclip-in-rails-app/"/>
    <updated>2015-02-26T14:59:33+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/26/how-to-install-and-use-ckeditor-and-paperclip-in-rails-app</id>
    <content type="html"><![CDATA[<ul>
<li>In <a href="https://github.com/thoughtbot/paperclip">paperclip</a> requirement, Paperclip must have access to ImageMagick that must be installed. For Mac OS X, we could run this command with Homebrew.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install imagemagick</span></code></pre></td></tr></table></div></figure>


<ul>
<li>add this to your rails app Gemfile.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'paperclip'
</span><span class='line'>gem 'ckeditor'</span></code></pre></td></tr></table></div></figure>


<ul>
<li>then bundle it.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle</span></code></pre></td></tr></table></div></figure>


<ul>
<li>next, we should generate model for <a href="https://github.com/galetahub/ckeditor">paperclip</a> to store uplaoded files</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rails generate ckeditor:install --orm=active_record --backend=paperclip</span></code></pre></td></tr></table></div></figure>




<!-- more -->


<ul>
<li>Don&rsquo;t forget to rake db:migrate</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake db:migrate</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Now, we need to mount it by editing your config/routes.rb</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#...</span>
</span><span class='line'><span class="n">mount</span> <span class="no">Ckeditor</span><span class="o">::</span><span class="no">Engine</span> <span class="o">=&gt;</span> <span class="s2">&quot;/ckeditor&quot;</span>
</span><span class='line'><span class="c1">#...</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Add this in your app/assets/javascripts/application.js and make ckeditor working.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sr">//</span><span class="o">=</span> <span class="nb">require</span> <span class="n">ckeditor</span><span class="o">/</span><span class="n">init</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>In your form view, change f.text_area to f.cktext_area</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">%= form_for @post do |f| -%&gt;</span>
</span><span class='line'><span class="sx">#  ...</span>
</span><span class='line'><span class="sx">  &lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">cktext_area</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">&quot;form-control&quot;</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">#  ...</span>
</span><span class='line'><span class="sx">&lt;% end -%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Error Message on Brew Install: Error: SHA1 Mismatch]]></title>
    <link href="http://andystu.github.io/blog/2015/02/19/error-message-on-brew-install-error-sha1-mismatch/"/>
    <updated>2015-02-19T00:46:10+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/19/error-message-on-brew-install-error-sha1-mismatch</id>
    <content type="html"><![CDATA[<ul>
<li>Sometimes we might get error message when we use brew install xxxxx_package.</li>
<li>What can we do to solve this?</li>
<li><p>We could just remove the package which we already download.</p></li>
<li><p>e.g.</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>...
</span><span class='line'>Error: SHA1 mismatch
</span><span class='line'>...
</span><span class='line'>$ rm /Library/Caches/Homebrew/libpng-1.6.16.tar.xz
</span><span class='line'># and install it again
</span><span class='line'>$ brew install libpng
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Heroku Command Line Tips]]></title>
    <link href="http://andystu.github.io/blog/2015/02/17/heroku-command-line-tips/"/>
    <updated>2015-02-17T15:44:05+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/17/heroku-command-line-tips</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ heroku apps:rename NEW_APP_NAME # for rename app
</span><span class='line'>$ heroku create NEW_APP_NAME # for create new name
</span><span class='line'>$ heroku pg:reset DB_NAME # for reset DB
</span><span class='line'>$ git remote add heroku git@heroku.com:project.git
</span><span class='line'>$ heroku git:remote -a APP_NAME
</span><span class='line'>$ heroku keys:add</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Tip: How to Update Attributes Without Save]]></title>
    <link href="http://andystu.github.io/blog/2015/02/17/rails-tip-how-to-update-attributes-without-save/"/>
    <updated>2015-02-17T15:31:32+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/17/rails-tip-how-to-update-attributes-without-save</id>
    <content type="html"><![CDATA[<ul>
<li><p>generally, when we use update_attributes, it will save automatically. however, what if we just want to new an record and update some attributes of it. what can we do?</p></li>
<li><p>We can use <em>assign_attributes</em> method.</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user = User.new
</span><span class='line'>user.assign_attributes({ :name =&gt; 'Andy'})
</span><span class='line'>user.name        # =&gt; "Andy"
</span><span class='line'>user.new_record? # =&gt; true</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Install and Deploy Redmine 2.6.x on Heroku]]></title>
    <link href="http://andystu.github.io/blog/2015/02/16/how-to-install-and-deploy-redmine-on-heroku/"/>
    <updated>2015-02-16T09:40:12+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/16/how-to-install-and-deploy-redmine-on-heroku</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git clone https://github.com/redmine/redmine.git -b 2.6-stable
</span><span class='line'>$ cd redmine</span></code></pre></td></tr></table></div></figure>


<ul>
<li>remove those files from .gitignore</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Gemfile.lock
</span><span class='line'>Gemfile.local
</span><span class='line'>public/plugin_assets 
</span><span class='line'>config/initializers/session_store.rb 
</span><span class='line'>config/initializers/secret_token.rb 
</span><span class='line'>config/configuration.yml 
</span><span class='line'>config/email.yml</span></code></pre></td></tr></table></div></figure>


<!-- more -->


<ul>
<li>remove those block from Gemfile</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>platforms :mri, :mingw do
</span><span class='line'>  # Optional gem for exporting the gantt to a PNG file, not supported with jruby
</span><span class='line'>  group :rmagick do
</span><span class='line'>    # RMagick 2 supports ruby 1.9
</span><span class='line'>    # RMagick 1 would be fine for ruby 1.8 but Bundler does not support
</span><span class='line'>    # different requirements for the same gem on different platforms
</span><span class='line'>    gem "rmagick", (RUBY_VERSION &lt; "1.9" ? "2.13.3" : "&gt;= 2.0.0")
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  # Optional Markdown support, not for JRuby
</span><span class='line'>  group :markdown do
</span><span class='line'>    # TODO: upgrade to redcarpet 3.x when ruby1.8 support is dropped
</span><span class='line'>    gem "redcarpet", "~&gt; 2.3.0"
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>platforms :jruby do
</span><span class='line'>  # jruby-openssl is bundled with JRuby 1.7.0
</span><span class='line'>  gem "jruby-openssl" if Object.const_defined?(:JRUBY_VERSION) && JRUBY_VERSION &lt; '1.7.0'
</span><span class='line'>  gem "activerecord-jdbc-adapter", "~&gt; 1.3.2"
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'># and
</span><span class='line'>database_file = File.join(File.dirname(__FILE__), "config/database.yml") if File.exist?(database_file)
</span><span class='line'>  database_config = YAML::load(ERB.new(IO.read(database_file)).result)
</span><span class='line'>    ...
</span><span class='line'>    else
</span><span class='line'>  warn("No adapter found in config/database.yml, please configure it first") end
</span><span class='line'>    else
</span><span class='line'>warn("Please configure your config/database.yml first") end
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>replace above block with this</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>group :development, :test do
</span><span class='line'>  gem 'sqlite3'
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>group :production do
</span><span class='line'>  gem 'pg'
</span><span class='line'>  gem 'rails_12factor'
</span><span class='line'>  gem 'thin' # change this if you want to use other rack web server
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<ul>
<li>bundle it without production</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle install --without production test</span></code></pre></td></tr></table></div></figure>


<ul>
<li>generate secret token for redmine</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake generate_secret_token</span></code></pre></td></tr></table></div></figure>


<ul>
<li>create heroku app</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ heroku create APP_NAME</span></code></pre></td></tr></table></div></figure>


<ul>
<li>To avoid aborting when deploying to heroku, we have to do the following two steps: In config/environment.rb we have to remove (or comment) line 10, where it says</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>exit 1
</span><span class='line'># remove it or comment it
</span><span class='line'># exit 1</span></code></pre></td></tr></table></div></figure>


<ul>
<li>add this under config/application.rb</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>...
</span><span class='line'>module RedmineApp
</span><span class='line'>  classApplication&lt;Rails::Application
</span><span class='line'>    config.assets.initialize_on_precompile = false # add this line
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git add -A
</span><span class='line'>$ git commit -m "preparing for heroku" 
</span><span class='line'>$ git push heroku 2.6-stable:master</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ heroku run rake db:migrate
</span><span class='line'>$ heroku run rake redmine:load_default_data
</span><span class='line'>$ heroku open
</span><span class='line'>
</span><span class='line'># Logging into the application
</span><span class='line'># Use default administrator account to log in:
</span><span class='line'>#
</span><span class='line'># login: admin
</span><span class='line'># password: admin
</span><span class='line'># 
</span><span class='line'># if you want to reset db, run the following command
</span><span class='line'># heroku pg:reset DB_NAME</span></code></pre></td></tr></table></div></figure>


<ul>
<li>done.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Fix Simple Search of Octopress]]></title>
    <link href="http://andystu.github.io/blog/2015/02/11/how-to-fix-simple-search-of-octopress/"/>
    <updated>2015-02-11T14:37:17+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/11/how-to-fix-simple-search-of-octopress</id>
    <content type="html"><![CDATA[<h3>find navigation.html in /source/_includes and replace original code with new code</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>...
</span><span class='line'><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;https://www.google.com/search&quot;</span> <span class="na">method=</span><span class="s">&quot;get&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;fieldset</span> <span class="na">role=</span><span class="s">&quot;search&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="c">&lt;!-- original code  --&gt;</span>
</span><span class='line'><span class="c">&lt;!--     &lt;input type=&quot;hidden&quot; name=&quot;q&quot; value=&quot;site:andystu.github.io&quot; /&gt; --&gt;</span>
</span><span class='line'><span class="c">&lt;!-- //original code  --&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- new code --&gt;</span>
</span><span class='line'>    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;sitesearch&quot;</span> <span class="na">value=</span><span class="s">&quot;andystu.github.io&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="c">&lt;!-- //new code --&gt;</span>
</span><span class='line'>    <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">&quot;search&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;q&quot;</span> <span class="na">results=</span><span class="s">&quot;0&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Search&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/fieldset&gt;</span>
</span><span class='line'><span class="nt">&lt;/form&gt;</span>
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>done.</p>

<p>reference
<a href="http://kaspars.net/blog/wordpress/how-to-add-google-site-search">http://kaspars.net/blog/wordpress/how-to-add-google-site-search</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Make Your Url Friendly for SEO/search Engine via Friendly Id and Babosa Gems]]></title>
    <link href="http://andystu.github.io/blog/2015/02/07/make-your-url-friendly-for-seo-slash-search-engine-via-friendly-id-and-babosa-gems/"/>
    <updated>2015-02-07T21:07:46+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/07/make-your-url-friendly-for-seo-slash-search-engine-via-friendly-id-and-babosa-gems</id>
    <content type="html"><![CDATA[<h3>If we want add more info with ID in URL for specific instance of model, the easy way is to override the to_param method.</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Model</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">to_params</span>
</span><span class='line'>    <span class="s2">&quot;</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">parameterize</span> <span class="c1">#</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<!-- more -->


<ul>
<li><p>However, we still need the ID at the start of our parameterized URL value for Rails ActiveRecord to find the correct model instance. If we don’t want IDs to be presented in URLs at all, the friendly_id gem is a great choice for this.</p></li>
<li><p>How to install and use <a href="https://github.com/norman/friendly_id">friendly_id</a> in your rails project.</p></li>
<li>Here we also install <a href="https://github.com/norman/babosa">babosa</a> for multiple languages.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># add this to your Gemfile</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;friendly_id&#39;</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;babosa&#39;</span> <span class="c1"># this is for locale sensitive transliteration, with support for many languages.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># in rails project</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>rails generate friendly_id
</span><span class='line'><span class="nv">$ </span>rails generate migration add_slug_to_models slug:string
</span><span class='line'><span class="nv">$ </span>rake db:migrate
</span><span class='line'>
</span><span class='line'><span class="c">#in rails console</span>
</span><span class='line'>
</span><span class='line'>If all have been already <span class="k">done</span>, we should run rails console and save all our model records again.
</span><span class='line'>&gt; Model.find_each<span class="o">(</span><span class="p">&amp;</span>:save<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<!-- more -->


<h3>modify our rails model</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># edit app/models/model.rb</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Model</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="kp">extend</span> <span class="no">FriendlyId</span>
</span><span class='line'>  <span class="n">friendly_id</span> <span class="ss">:column_name</span><span class="p">,</span> <span class="ss">use</span><span class="p">:</span> <span class="ss">:slugged</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># :history =&gt; won&#39;t change friendly id after updating :column_name</span>
</span><span class='line'>  <span class="c1"># :finder =&gt; no need to add .friendly method with Model anymore (gem&#39;s version should be above v5.0)</span>
</span><span class='line'>  <span class="c1"># use: [:slugged, :history, :finder]</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># for genereate friendly_id</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">should_generate_new_friendly_id?</span>
</span><span class='line'>    <span class="n">new_record?</span> <span class="o">||</span> <span class="n">slug</span><span class="o">.</span><span class="n">blank?</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># for locale sensitive transliteration with friendly_id</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">normalize_friendly_id</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</span><span class='line'>    <span class="n">input</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">to_slug</span><span class="o">.</span><span class="n">normalize</span><span class="o">.</span><span class="n">to_s</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>reference
<a href="http://rubysnippets.com/2013/02/04/rails-seo-pretty-urls-in-rails/">http://rubysnippets.com/2013/02/04/rails-seo-pretty-urls-in-rails/</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Use All View and Helper Methods in Rails Console]]></title>
    <link href="http://andystu.github.io/blog/2015/02/07/how-to-use-all-view-and-helper-methods-in-rails-console/"/>
    <updated>2015-02-07T00:56:39+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/07/how-to-use-all-view-and-helper-methods-in-rails-console</id>
    <content type="html"><![CDATA[<h3>run and preview a view helper</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&gt;</span> <span class="no">YourController</span><span class="o">.</span><span class="n">helpers</span><span class="o">.</span><span class="n">my_helper</span>
</span><span class='line'>
</span><span class='line'><span class="o">&gt;</span> <span class="no">ApplicationController</span><span class="o">.</span><span class="n">helpers</span><span class="o">.</span><span class="n">content_tag</span><span class="p">(</span><span class="ss">:div</span><span class="p">,</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>create params in rails console</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># ActionController::Parameters.new</span>
</span><span class='line'><span class="n">params</span> <span class="o">=</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Parameters</span><span class="o">.</span><span class="n">new</span><span class="p">({</span>
</span><span class='line'>  <span class="ss">person</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">name</span><span class="p">:</span> <span class="s1">&#39;Francesco&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">age</span><span class="p">:</span>  <span class="mi">22</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">role</span><span class="p">:</span> <span class="s1">&#39;admin&#39;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>reference
<a href="http://edgeapi.rubyonrails.org/classes/ActionController/Parameters.html">http://edgeapi.rubyonrails.org/classes/ActionController/Parameters.html</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Get a List of a Class or Instance Methods by Keyword]]></title>
    <link href="http://andystu.github.io/blog/2015/02/06/how-to-get-a-list-of-a-class-or-instance-methods-by-keyword/"/>
    <updated>2015-02-06T23:29:43+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/06/how-to-get-a-list-of-a-class-or-instance-methods-by-keyword</id>
    <content type="html"><![CDATA[<h4>a very useful tip to find methods in ruby/rails console</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Class.methods.grep(/keyword/) </span>
</span><span class='line'>
</span><span class='line'><span class="c1"># e.g. </span>
</span><span class='line'><span class="n">irb</span><span class="o">&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">grep</span><span class="p">(</span><span class="sr">/to/</span><span class="p">)</span> <span class="c1">#  =&gt; [:to_s, :to_f, :to_default_s, :to_json, :upto, :downto, :to_i, :to_int, :numerator, :denominator, :to_r, :to_bn, :to_d, :singleton_method_added, :to_c, :to_formatted_s, :to_param, :to_query, :psych_to_yaml, :to_yaml, :to_yaml_properties, :singleton_class, :singleton_methods, :respond_to?, :singleton_method, :define_singleton_method, :to_enum]</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Class.instance_methods.grep(/method/) #  =&gt; [:instance_methods, :public_instance_methods, :protected_instance_methods, :private_instance_methods, :methods, :singleton_methods, :protected_methods, :private_methods, :public_methods]</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Class.methods.grep(/new/) # =&gt; [&quot;new&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Fix Octopress Build Warning Layout Nil Requested After Installing Some Themes]]></title>
    <link href="http://andystu.github.io/blog/2015/02/06/how-to-fix-octopress-build-warning-layout-nil-requested/"/>
    <updated>2015-02-06T14:17:39+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/06/how-to-fix-octopress-build-warning-layout-nil-requested</id>
    <content type="html"><![CDATA[<h4>How to fix Octopress &ldquo;build warning Layout nil requested&rdquo;</h4>

<p><code>
After changing some themes of octopress then rake generate might produce some errors like this:
Build Warning: Layout 'nil' requested in .....atom.xml does not exist.
</code></p>

<h4>Fix by replacing:</h4>

<p><code>layout: nil</code>
with:
<code>layout: null</code>
in files:
<code>
source/atom.xml
source/robots.txt
source/_includes/custom/category_feed.xml
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ujs / Sjr Usage Hint]]></title>
    <link href="http://andystu.github.io/blog/2015/02/05/ujs-slash-sjr-usage-hint/"/>
    <updated>2015-02-05T10:52:25+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/05/ujs-slash-sjr-usage-hint</id>
    <content type="html"><![CDATA[<h3>ujs / sjr usage hint for rails link_to method and form!</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>A. Enable feature of ajax for Link
</span><span class='line'>  1. link_to 要加 remote: true, path 要是 .js 的 format
</span><span class='line'>  2. 要確保後端 action 支援 .js format
</span><span class='line'>  3. 必須要有 #{action}.js.erb
</span><span class='line'>
</span><span class='line'>B. Enable feature of ajax for Form
</span><span class='line'>  1. form_for(@record, format: :js, remote: true)
</span><span class='line'>  2. 確保後端 action 支援 .js format
</span><span class='line'>  3. 必須要有 #{action}.js.erb
</span><span class='line'>
</span><span class='line'>對應的 js.erb 必須處接下來的事情 e.g. 刪除資料、redirects、update forms ... etc</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bootstrap Tips: Some Resources for Bootstrap Customization]]></title>
    <link href="http://andystu.github.io/blog/2015/02/04/bootstrap-tips-some-resources-for-bootstrap-customization/"/>
    <updated>2015-02-04T10:48:54+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/04/bootstrap-tips-some-resources-for-bootstrap-customization</id>
    <content type="html"><![CDATA[<ul>
<li>useful online tools for generating bootstrap theme</li>
</ul>


<p><a href="http://pikock.github.io/bootstrap-magic/">http://pikock.github.io/bootstrap-magic/</a></p>

<p><a href="http://www.lavishbootstrap.com/">http://www.lavishbootstrap.com/</a></p>

<p><a href="http://paintstrap.com/">http://paintstrap.com/</a></p>

<p><a href="http://paintstrap.com/gallery/">http://paintstrap.com/gallery/</a></p>

<p><a href="http://bootswatchr.com/">http://bootswatchr.com/</a></p>

<p><a href="http://stylebootstrap.info/">http://stylebootstrap.info/</a></p>

<p><a href="http://bootsnipp.com/">http://bootsnipp.com/</a></p>

<!--more-->


<ul>
<li>fake images</li>
</ul>


<p><a href="http://lorempixel.com">http://lorempixel.com</a></p>

<p><a href="http://placekitten.com">http://placekitten.com</a></p>

<p><a href="http://placehold.it">http://placehold.it</a></p>

<ul>
<li>desktop tools</li>
</ul>


<p><a href="http://www.pingendo.com/">http://www.pingendo.com/</a></p>

<ul>
<li>layout tools</li>
</ul>


<p><a href="http://www.layoutit.com/">http://www.layoutit.com/</a></p>

<ul>
<li>useful plug-ins</li>
</ul>


<p><a href="http://vitalets.github.io/x-editable/">http://vitalets.github.io/x-editable/</a></p>

<p><a href="https://github.com/rorlab/bootstrap-tagsinput-rails">https://github.com/rorlab/bootstrap-tagsinput-rails</a></p>

<p><a href="http://timschlechter.github.io/bootstrap-tagsinput/examples/">http://timschlechter.github.io/bootstrap-tagsinput/examples/</a></p>

<ul>
<li>important reference</li>
</ul>


<p><a href="http://getbootstrap.com/customize/">http://getbootstrap.com/customize/</a></p>

<p><a href="http://mashable.com/2013/10/20/bootstrap-editors/">http://mashable.com/2013/10/20/bootstrap-editors/</a></p>

<p><a href="https://github.com/twbs/bootstrap-sass/tree/master/assets/stylesheets/bootstrap/mixins">https://github.com/twbs/bootstrap-sass/tree/master/assets/stylesheets/bootstrap/mixins</a></p>

<ul>
<li>convert tools</li>
</ul>


<p>gem &lsquo;less2sass&rsquo;
<a href="https://rubygems.org/gems/less2sass">https://rubygems.org/gems/less2sass</a></p>

<p>don&rsquo;t forget to add twbs-font-path on top or variable.sass file</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// When true, asset path helpers are used, otherwise the regular CSS `url()` is used.
</span><span class='line'>// When there no function is defined, `fn('')` is parsed as string that equals the right hand side
</span><span class='line'>// NB: in Sass 3.3 there is a native function: function-exists(twbs-font-path)
</span><span class='line'>$bootstrap-sass-asset-helper: (twbs-font-path("") != unquote('twbs-font-path("")')) !default;</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Project Rake Tips]]></title>
    <link href="http://andystu.github.io/blog/2015/02/02/rails-project-rake-tips/"/>
    <updated>2015-02-02T22:50:20+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/02/rails-project-rake-tips</id>
    <content type="html"><![CDATA[<ul>
<li>Rails image disappears with error: Failed to load resource:</li>
<li>net::ERR_CONTENT_LENGTH_MISMATCH</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rake tmp:clear <span class="c"># for recompile asset tmp</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Console Tips: Table Operations]]></title>
    <link href="http://andystu.github.io/blog/2015/02/02/rails-console-tips-table-operations/"/>
    <updated>2015-02-02T18:04:19+08:00</updated>
    <id>http://andystu.github.io/blog/2015/02/02/rails-console-tips-table-operations</id>
    <content type="html"><![CDATA[<h2>In rails console, you can</h2>

<h3>list tables</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&gt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">tables</span>
</span></code></pre></td></tr></table></div></figure>


<h3>list a table structure (but it is a protected method)</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># this dose not work. </span>
</span><span class='line'><span class="o">&gt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">table_structure</span><span class="p">(</span><span class="s2">&quot;projects&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># we should utilize send method to call protected method</span>
</span><span class='line'><span class="o">&gt;</span> <span class="vi">@c</span> <span class="o">=</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">connection</span>
</span><span class='line'><span class="o">&gt;</span> <span class="vi">@c</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="ss">:table_structure</span><span class="p">,</span> <span class="s2">&quot;xxxs&quot;</span><span class="p">)</span> <span class="c1"># xxxs is your model name</span>
</span></code></pre></td></tr></table></div></figure>


<h3>show table schema</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&gt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">columns</span> <span class="ss">:table_name</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Scaffold Create .erb Rather Thean .haml After Bundling Rails-haml Gem]]></title>
    <link href="http://andystu.github.io/blog/2015/01/20/rails-scaffold-create-erb-rather-thean-haml-after-bundling-rails-haml-gem/"/>
    <updated>2015-01-20T14:34:51+08:00</updated>
    <id>http://andystu.github.io/blog/2015/01/20/rails-scaffold-create-erb-rather-thean-haml-after-bundling-rails-haml-gem</id>
    <content type="html"><![CDATA[<ul>
<li>After bundling &lsquo;rails-haml&rsquo; gem, all views generated by scaffold are .haml. If we want to use default .erb views file, we need to append the folowing lines in your config/application.rb file or in config/enviroments/developement.rb.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># application.rb</span>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">module</span> <span class="nn">Events</span>
</span><span class='line'>  <span class="k">class</span> <span class="nc">Application</span> <span class="o">&lt;</span> <span class="no">Rails</span><span class="o">::</span><span class="no">Application</span>
</span><span class='line'>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
</span><span class='line'><span class="c1"># append to here</span>
</span><span class='line'>    <span class="n">config</span><span class="o">.</span><span class="n">generators</span> <span class="k">do</span> <span class="o">|</span><span class="n">g</span><span class="o">|</span>
</span><span class='line'>       <span class="n">g</span><span class="o">.</span><span class="n">template_engine</span> <span class="ss">:erb</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<!--more-->


<p>or</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># developement.rb</span>
</span><span class='line'><span class="no">Events</span><span class="o">::</span><span class="no">Application</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span>
</span><span class='line'><span class="c1"># Settings specified here will take precedence over those in config/application.rb.</span>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">config</span><span class="o">.</span><span class="n">generators</span> <span class="k">do</span> <span class="o">|</span><span class="n">g</span><span class="o">|</span>
</span><span class='line'>    <span class="n">g</span><span class="o">.</span><span class="n">template_engine</span> <span class="ss">:erb</span> <span class="c1"># or :haml if you prefer .haml</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
</span><span class='line'>  <span class="c1"># Raises error for missing translations</span>
</span><span class='line'>  <span class="c1"># config.action_view.raise_on_missing_translations = true</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
